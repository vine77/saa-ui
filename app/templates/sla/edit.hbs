<div class="modal-header">
  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
  <h3>Edit SLA</h3>
</div>
<form id="slasForm" {{action "editSla" on="submit"}}>
  <div class="modal-body">
    <p>Edit <abbr title="Service-Level Agreement">SLA</abbr> "{{model.name}}".</p>
    <div class="form-horizontal well-clean shadow-lifted">
      <p>
        <label class="inline">SLA name:</label>
        {{input class="input-medium" value=model.name autofocus="autofocus"}}
        {{#if isAddSloAvailable}}
          <a class="btn pull-right" {{action "addSlo"}}>
            <i class="icon-plus-sign"></i> Add SLO
          </a>
        {{else}}
          <a {{bind-attr class="isAddSloAvailable::disabled :btn :pull-right"}}>
            <i class="icon-plus-sign"></i> Add SLO
          </a>
        {{/if}}
      </p>
      {{#each slo in slos itemController="slo"}}
        <p class="slo-row separator-top">
          {{view Ember.Select viewName="select" class="input-medium"
            content=sloTemplates
            optionValuePath="content.id"
            optionLabelPath="content.readableSloType"
            optionGroupPath="group"
            selection=sloTemplate
            prompt="Select Template"
          }}
          {{#if allowedOperatorsGreaterThanOne}}
            {{view Ember.Select viewName="select" class="input-small"
              contentBinding="slo.sloTemplate.allowedOperators"
              valueBinding="slo.operator"
            }}
          {{else}}
            {{slo.sloTemplate.allowedOperators}}
          {{/if}}

          {{#if isRange}}
            {{input class="input-tiny" value=rangeMin}} to
            {{input class="input-tiny" value=rangeMax}}
          {{/if}}

          {{#if isInteger}}
            {{input class="input-small" value=value}}
          {{/if}}

          {{#if isBoolean}}
            <label style="display:inline; margin-left:10px">
              {{view "radio-button" name="value" selection=value value="1"}}
              True
            </label>

            <label style=" display:inline; margin-left:10px;">
              {{view "radio-button" name="value" selection=value value="0"}}
              False
            </label>
          {{/if}}

          {{slo.sloTemplate.unit}}

          <a class="btn pull-right" {{action "deleteSlo" slo}}><i class="icon-remove-sign"></i></a>
          <small class="block">{{slo.sloTemplate.description}}</small>
        </p>
      {{/each}}
    </div>
    {{#if bucketSloCountGreaterThanOne}}
      <span class="table-flat-header">
        {{#if isComputeSloTable}} Max SCUs per vCPU {{/if}}
        {{#if isComputeVmSloTable}} Max SCUs per VM {{/if}}
        {{#if isExclusiveCoresSloTable}} Max Exclusive Cores per VM {{/if}}
      </span>
      <span class="help-tip">
        <span class="hint--top" data-hint="The below table tells you the state of the current cloud and the&#10; number of SCUs/cores that are available for nodes in the cloud.&#10; All nodes in the cloud meets the minimum value, half of the nodes&#10; meet the median value, and X meet the maximum value.">
          <i class="icon-question-sign"></i>
        </span>
      </span>
      <div class="form-horizontal well-clean shadow-lifted">
        <div class="alert alert-info">
          Please select vCPUs to update the table hypothetical values.
        </div>
        <div class="control-group">
          <label class="inline">vCPUs:</label>
          {{view Ember.Select
            content=vcpuValues
            value=vcpus
          }}
        </div>
        {{#if isComputeSloTable}}
          <table class="table">
            <thead>
              <th> </th>
              <th>SCUs</th>
              <th># of Nodes</th>
            </thead>
            <tbody>
              <tr>
                <td> Maximum </td>
                <td> {{sloVcpuTableMaximumScus}} </td>
                <td> {{sloVcpuTableNumberOfNodesMaximumScus}} </td>
              </tr>
              <tr>
                <td> Median </td>
                <td> {{sloVcpuTableMedianScus}} </td>
                <td> {{sloVcpuTableNumberOfNodesMedianScus}} </td>
              </tr>
              <tr>
                <td> Minimum </td>
                <td> {{sloVcpuTableMinimumScus}} </td>
                <td> {{sloVcpuTableNumberOfNodesMinimumScus}} </td>
              </tr>
            </tbody>
          </table>
        {{/if}}
        {{#if isComputeVmSloTable}}
          <table class="table">
            <thead>
              <th> </th>
              <th>SCUs</th>
              <th># of Nodes</th>
            </thead>
            <tbody>
              <tr>
                <td> Maximum </td>
                <td> {{sloVmTableMaximumScus}} </td>
                <td> {{sloVmTableNumberOfNodesMaximumScus}} </td>
              </tr>
              <tr>
                <td> Median </td>
                <td> {{sloVmTableMedianScus}} </td>
                <td> {{sloVmTableNumberOfNodesMedianScus}} </td>
              </tr>
              <tr>
                <td> Minimum </td>
                <td> {{sloVmTableMinimumScus}} </td>
                <td> {{sloVmTableNumberOfNodesMinimumScus}} </td>
              </tr>
            </tbody>
          </table>
        {{/if}}
        {{#if isExclusiveCoresSloTable}}
          <table class="table">
            <thead>
              <th> </th>
              <th>Exclusive Cores</th>
              <th># of Nodes</th>
            </thead>
            <tbody>
              <tr>
                <td> Maximum </td>
                <td> {{sloExclusiveCoresTableMaximum}} </td>
                <td> {{sloExclusiveCoresTableNumberOfNodesMaximum}} </td>
              </tr>
              <tr>
                <td> Median </td>
                <td> {{sloExclusiveCoresTableMedian}} </td>
                <td> {{sloExclusiveCoresTableNumberOfNodesMedian}} </td>
              </tr>
              <tr>
                <td> Minimum </td>
                <td> {{sloExclusiveCoresTableMinimum}} </td>
                <td> {{sloExclusiveCoresTableNumberOfNodesMinimum}} </td>
              </tr>
            </tbody>
          </table>
        {{/if}}
      </div>
    {{/if}}

    </div>
  </div>
  <div class="modal-footer">
    <a class="btn" data-dismiss="modal">Cancel</a>
    {{#if isSlaEditing}}
      <a class="btn btn-primary" disabled>Save</a>
    {{else}}
      <input class="btn btn-primary" type="submit" value="Save">
    {{/if}}
  </div>
</form>
